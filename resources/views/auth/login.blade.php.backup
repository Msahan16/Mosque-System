@extends('layouts.app')

@section('title', 'Login - Medical Clinic')

@section('content')
<div class="relative flex h-auto min-h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark px-4 py-8">
    <!-- Dark Mode Toggle Button -->
    <button onclick="toggleDarkMode()" class="absolute top-3 right-3 p-2 rounded-lg bg-white dark:bg-slate-800 shadow-md z-10">
        <span class="material-symbols-outlined text-slate-700 dark:text-slate-300 text-xl">
            dark_mode
        </span>
    </button>
    
    <!-- Login Container -->
    <div class="w-full max-w-md mx-auto p-5 sm:p-6 md:p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl">
        <!-- Logo and Title -->
        <div class="flex justify-center mb-4 sm:mb-6">
            <div class="relative flex items-center justify-center">
                <img src="{{ asset('images/logo.png') }}" alt="WebXKey" class="h-20 sm:h-24 md:h-28 w-auto">
            </div>
        </div>
        
        <h1 class="text-slate-900 dark:text-white tracking-tight text-xl sm:text-2xl md:text-[28px] font-bold leading-tight text-center pb-1 sm:pb-2">
            Welcome Back
        </h1>
        
        <p class="text-slate-500 dark:text-slate-400 text-sm sm:text-base font-normal leading-normal text-center pb-4 sm:pb-6 md:pb-8">
            Sign in to access your patient portal.
        </p>

        <!-- Login Form -->
        <form method="POST" action="{{ route('login') }}" class="w-full space-y-3 sm:space-y-4">
            @csrf
            
            <!-- Email Field -->
            <label class="flex flex-col w-full">
                <p class="text-slate-900 dark:text-white text-xs sm:text-sm font-medium leading-normal pb-1.5 sm:pb-2">
                    Email Address
                </p>
                <div class="flex w-full flex-1 items-stretch rounded-xl">
                    <div class="text-slate-400 dark:text-slate-500 flex border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 items-center justify-center pl-3 sm:pl-4 rounded-l-xl border-r-0">
                        <span class="material-symbols-outlined text-lg sm:text-xl">
                            person
                        </span>
                    </div>
                    <input 
                        name="email"
                        type="email"
                        required
                        autofocus
                        class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 h-11 sm:h-12 md:h-14 placeholder:text-slate-400 dark:placeholder:text-slate-500 px-2 sm:px-3 text-sm sm:text-base font-normal leading-normal rounded-l-none border-l-0" 
                        placeholder="Enter your email"
                        value="{{ old('email') }}"
                    />
                </div>
                @error('email')
                    <p class="mt-1.5 text-xs sm:text-sm text-red-600 dark:text-red-400">{{ $message }}</p>
                @enderror
            </label>

            <!-- Password Field -->
            <label class="flex flex-col w-full">
                <p class="text-slate-900 dark:text-white text-xs sm:text-sm font-medium leading-normal pb-1.5 sm:pb-2">
                    Password
                </p>
                <div class="flex w-full flex-1 items-stretch rounded-xl">
                    <div class="text-slate-400 dark:text-slate-500 flex border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 items-center justify-center pl-3 sm:pl-4 rounded-l-xl border-r-0">
                        <span class="material-symbols-outlined text-lg sm:text-xl">
                            lock
                        </span>
                    </div>
                    <input 
                        name="password"
                        type="password"
                        required
                        autocomplete="current-password"
                        class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-900 h-11 sm:h-12 md:h-14 placeholder:text-slate-400 dark:placeholder:text-slate-500 px-2 sm:px-3 text-sm sm:text-base font-normal leading-normal rounded-l-none" 
                        placeholder="Enter your password"
                    />
                </div>
                @error('password')
                    <p class="mt-1.5 text-xs sm:text-sm text-red-600 dark:text-red-400">{{ $message }}</p>
                @enderror
            </label>

            <!-- Remember Me & Forgot Password -->
            <div class="flex items-center justify-between py-2 sm:py-3 md:py-4">
                <label class="flex items-center">
                    <input 
                        name="remember"
                        type="checkbox" 
                        class="rounded border-slate-300 dark:border-slate-700 text-primary focus:ring-primary/50 h-4 w-4"
                    />
                    <span class="ml-2 text-xs sm:text-sm text-slate-600 dark:text-slate-400">
                        Remember me
                    </span>
                </label>
                
                <a class="text-primary text-xs sm:text-sm font-medium leading-normal hover:underline" href="{{ route('password.request') }}">
                    Forgot Password?
                </a>
            </div>

            <!-- Submit Button -->
            <button 
                type="submit"
                class="flex w-full items-center justify-center rounded-xl bg-primary h-11 sm:h-12 md:h-14 text-white text-sm sm:text-base font-semibold leading-normal mt-2 hover:bg-primary/90 active:bg-primary/80 transition-colors"
            >
                Sign In
            </button>
        </form>

        <!-- Demo Credentials (Optional - Remove in production) -->
        <div class="mt-4 sm:mt-5 md:mt-6 p-3 sm:p-4 bg-teal-50 dark:bg-teal-900/20 rounded-xl border border-teal-200 dark:border-teal-800">
            <p class="text-xs sm:text-sm text-teal-800 dark:text-teal-300 font-medium mb-1.5 sm:mb-2">Demo Credentials:</p>
            <p class="text-[10px] sm:text-xs text-teal-700 dark:text-teal-400">Email: patient@example.com</p>
            <p class="text-[10px] sm:text-xs text-teal-700 dark:text-teal-400">Password: password</p>
        </div>

        <!-- Error Messages -->
        @if($errors->any())
            <div class="mt-4 sm:mt-5 md:mt-6 p-3 sm:p-4 bg-red-50 dark:bg-red-900/20 rounded-xl border border-red-200 dark:border-red-800">
                <p class="text-xs sm:text-sm text-red-800 dark:text-red-300 font-medium mb-1.5 sm:mb-2">Login Failed:</p>
                <ul class="text-[10px] sm:text-xs text-red-700 dark:text-red-400 list-disc list-inside">
                    @foreach($errors->all() as $error)
                        <li>{{ $error }}</li>
                    @endforeach
                </ul>
            </div>
        @endif

        <!-- Sign Up Link -->
        <p class="text-slate-500 dark:text-slate-400 text-center text-xs sm:text-sm font-normal leading-normal pt-6 sm:pt-8 md:pt-12 pb-4 mt-4 sm:mt-6 md:mt-8">
            Don't have an account? 
            <a class="font-semibold text-primary hover:underline" href="{{ route('register') }}">
                Sign Up
            </a>
        </p>
    </div>
</div>
@endsection
